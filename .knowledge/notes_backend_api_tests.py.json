{"is_source_file": true, "format": "Python", "description": "This file contains test cases for API endpoints of a notes management backend, using Django Rest Framework's testing utilities. It tests health check, authentication, authorization, note creation, retrieval, modification, deletion, and archive actions.", "external_files": ["rest_framework.test", "django.urls", "django.contrib.auth", "rest_framework.authtoken.models", ".models"], "external_methods": ["reverse", "get_user_model", "Token.objects.create", "Note.objects.create"], "published": [], "classes": [{"name": "HealthTests", "description": "Test suite for health check endpoint"}, {"name": "AuthAndNotesTests", "description": "Test suite for authentication, note CRUD operations, and permissions"}], "methods": [{"name": "test_health(self)", "description": "Tests that the health endpoint returns success and proper message", "scope": "HealthTests", "scopeKind": "class"}, {"name": "setUp(self)", "description": "Initializes test users, tokens, and sample notes for the tests", "scope": "AuthAndNotesTests", "scopeKind": "class"}, {"name": "auth_client(self, token)", "description": "Creates an APIClient with authentication credentials", "scope": "AuthAndNotesTests", "scopeKind": "class"}, {"name": "test_auth_required(self)", "description": "Verifies that accessing notes list without auth returns 401", "scope": "AuthAndNotesTests", "scopeKind": "class"}, {"name": "test_token_login(self)", "description": "Tests login endpoint and retrieval of auth token", "scope": "AuthAndNotesTests", "scopeKind": "class"}, {"name": "test_register(self)", "description": "Tests user registration endpoint", "scope": "AuthAndNotesTests", "scopeKind": "class"}, {"name": "test_list_only_own_notes_and_filters(self)", "description": "Ensures users see only their notes and filtering works", "scope": "AuthAndNotesTests", "scopeKind": "class"}, {"name": "test_create_sets_owner(self)", "description": "Checks that a new note is associated with the creating user", "scope": "AuthAndNotesTests", "scopeKind": "class"}, {"name": "test_permissions_retrieve_update_delete(self)", "description": "Verifies access control for notes (read, update, delete)", "scope": "AuthAndNotesTests", "scopeKind": "class"}, {"name": "test_archive_actions(self)", "description": "Tests archiving and unarchiving notes", "scope": "AuthAndNotesTests", "scopeKind": "class"}, {"name": "test_token_logout(self)", "description": "Tests token logout endpoint and subsequent auth failure", "scope": "AuthAndNotesTests", "scopeKind": "class"}], "calls": ["reverse('Health')", "get_user_model()", "Token.objects.create(user=self.user1)", "Note.objects.create(title=..., owner=...)", "self.client.get()", "self.client.post()", "client.credentials()", "Note.objects.filter()", "client.get()", "client.post()", "client.patch()", "client.delete()"], "search-terms": ["APITestCase", "Notes API tests", "authentication", "permissions", "archive", "token login"], "state": 2, "file_id": 10, "knowledge_revision": 44, "git_revision": "aa8c5bbbfff8fb91b03b2bb6af097b64126b6de9", "revision_history": [{"34": "b6c13351df3aad8b9b0062e7d7561e5a259262fe"}, {"44": "aa8c5bbbfff8fb91b03b2bb6af097b64126b6de9"}], "ctags": [{"_type": "tag", "name": "AuthAndNotesTests", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-185736-185746/notes_backend/api/tests.py", "pattern": "/^class AuthAndNotesTests(APITestCase):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "HealthTests", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-185736-185746/notes_backend/api/tests.py", "pattern": "/^class HealthTests(APITestCase):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "auth_client", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-185736-185746/notes_backend/api/tests.py", "pattern": "/^    def auth_client(self, token):$/", "language": "Python", "kind": "member", "signature": "(self, token)", "scope": "AuthAndNotesTests", "scopeKind": "class"}, {"_type": "tag", "name": "setUp", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-185736-185746/notes_backend/api/tests.py", "pattern": "/^    def setUp(self):$/", "language": "Python", "kind": "member", "signature": "(self)", "scope": "AuthAndNotesTests", "scopeKind": "class"}, {"_type": "tag", "name": "test_archive_actions", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-185736-185746/notes_backend/api/tests.py", "pattern": "/^    def test_archive_actions(self):$/", "language": "Python", "kind": "member", "signature": "(self)", "scope": "AuthAndNotesTests", "scopeKind": "class"}, {"_type": "tag", "name": "test_auth_required", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-185736-185746/notes_backend/api/tests.py", "pattern": "/^    def test_auth_required(self):$/", "language": "Python", "kind": "member", "signature": "(self)", "scope": "AuthAndNotesTests", "scopeKind": "class"}, {"_type": "tag", "name": "test_create_sets_owner", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-185736-185746/notes_backend/api/tests.py", "pattern": "/^    def test_create_sets_owner(self):$/", "language": "Python", "kind": "member", "signature": "(self)", "scope": "AuthAndNotesTests", "scopeKind": "class"}, {"_type": "tag", "name": "test_health", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-185736-185746/notes_backend/api/tests.py", "pattern": "/^    def test_health(self):$/", "language": "Python", "kind": "member", "signature": "(self)", "scope": "HealthTests", "scopeKind": "class"}, {"_type": "tag", "name": "test_list_only_own_notes_and_filters", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-185736-185746/notes_backend/api/tests.py", "pattern": "/^    def test_list_only_own_notes_and_filters(self):$/", "language": "Python", "kind": "member", "signature": "(self)", "scope": "AuthAndNotesTests", "scopeKind": "class"}, {"_type": "tag", "name": "test_permissions_retrieve_update_delete", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-185736-185746/notes_backend/api/tests.py", "pattern": "/^    def test_permissions_retrieve_update_delete(self):$/", "language": "Python", "kind": "member", "signature": "(self)", "scope": "AuthAndNotesTests", "scopeKind": "class"}, {"_type": "tag", "name": "test_register", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-185736-185746/notes_backend/api/tests.py", "pattern": "/^    def test_register(self):$/", "language": "Python", "kind": "member", "signature": "(self)", "scope": "AuthAndNotesTests", "scopeKind": "class"}, {"_type": "tag", "name": "test_token_login", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-185736-185746/notes_backend/api/tests.py", "pattern": "/^    def test_token_login(self):$/", "language": "Python", "kind": "member", "signature": "(self)", "scope": "AuthAndNotesTests", "scopeKind": "class"}, {"_type": "tag", "name": "test_token_logout", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-185736-185746/notes_backend/api/tests.py", "pattern": "/^    def test_token_logout(self):$/", "language": "Python", "kind": "member", "signature": "(self)", "scope": "AuthAndNotesTests", "scopeKind": "class"}], "hash": "081681b11c4a0f168e58e685401a8844", "format-version": 4, "code-base-name": "notes_backend", "filename": "notes_backend/api/tests.py"}