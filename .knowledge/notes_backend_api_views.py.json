{"is_source_file": true, "format": "Python", "description": "This file contains Django REST Framework view definitions and permissions related to a personal notes management backend. It includes API endpoints for health checks, user registration, token logout, and CRUD operations for notes with search and archive filtering.", "external_files": ["django.contrib.auth", "django.db.models", "rest_framework", ".models", ".serializers"], "external_methods": ["get_user_model", "Q", "viewsets.ModelViewSet", "permissions.BasePermission", "Response", "api_view", "action", "permission_classes", "status", "Token.objects.get_or_create", "Token.objects.get", "Token.delete"], "published": ["health", "register", "token_logout"], "classes": [{"name": "IsOwner", "description": "Custom permission class to limit object access to owners."}, {"name": "NotesViewSet", "description": "ViewSet providing CRUD operations for personal notes, with search and archive filter capabilities."}], "methods": [{"name": "has_object_permission(self, request, view, obj)", "description": "Checks if the request user is the owner of the object.", "scope": "IsOwner", "scopeKind": "class"}, {"name": "get_queryset(self)", "description": "Retrieves and filters notes belonging to the current user based on query parameters.", "scope": "NotesViewSet", "scopeKind": "class"}, {"name": "get_serializer_class(self)", "description": "Returns appropriate serializer class depending on the action.", "scope": "NotesViewSet", "scopeKind": "class"}, {"name": "perform_create(self, serializer)", "description": "Assigns the current user as owner when creating a new note.", "scope": "NotesViewSet", "scopeKind": "class"}, {"name": "get_object(self)", "description": "Retrieves the note object with enforced ownership permissions.", "scope": "NotesViewSet", "scopeKind": "class"}, {"name": "archive(self, request, pk=None)", "description": "Marks a note as archived.", "scope": "NotesViewSet", "scopeKind": "class"}, {"name": "unarchive(self, request, pk=None)", "description": "Marks a note as unarchived.", "scope": "NotesViewSet", "scopeKind": "class"}, {"name": "health(request)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "register(request)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "token_logout(request)", "scope": "", "scopeKind": "", "description": "unavailable"}], "calls": ["super().get_object()", "self.check_object_permissions()", "NoteSerializer(note).data", "Note.objects.filter()", "Note.objects.create_user()", "Token.objects.get_or_create()", "Token.objects.get()", "Token.delete()"], "search-terms": ["Django REST Framework", "viewsets", "permissions", "notes", "authentication", "archived", "search", "ownership"], "state": 2, "file_id": 11, "knowledge_revision": 41, "git_revision": "aa8c5bbbfff8fb91b03b2bb6af097b64126b6de9", "revision_history": [{"26": "b6c13351df3aad8b9b0062e7d7561e5a259262fe"}, {"41": "aa8c5bbbfff8fb91b03b2bb6af097b64126b6de9"}], "ctags": [{"_type": "tag", "name": "IsOwner", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-185736-185746/notes_backend/api/views.py", "pattern": "/^class IsOwner(permissions.BasePermission):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "NotesViewSet", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-185736-185746/notes_backend/api/views.py", "pattern": "/^class NotesViewSet(viewsets.ModelViewSet):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "archive", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-185736-185746/notes_backend/api/views.py", "pattern": "/^    def archive(self, request, pk=None):$/", "language": "Python", "kind": "member", "signature": "(self, request, pk=None)", "scope": "NotesViewSet", "scopeKind": "class"}, {"_type": "tag", "name": "get_object", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-185736-185746/notes_backend/api/views.py", "pattern": "/^    def get_object(self):$/", "language": "Python", "kind": "member", "signature": "(self)", "scope": "NotesViewSet", "scopeKind": "class"}, {"_type": "tag", "name": "get_queryset", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-185736-185746/notes_backend/api/views.py", "pattern": "/^    def get_queryset(self):$/", "language": "Python", "kind": "member", "signature": "(self)", "scope": "NotesViewSet", "scopeKind": "class"}, {"_type": "tag", "name": "get_serializer_class", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-185736-185746/notes_backend/api/views.py", "pattern": "/^    def get_serializer_class(self):$/", "language": "Python", "kind": "member", "signature": "(self)", "scope": "NotesViewSet", "scopeKind": "class"}, {"_type": "tag", "name": "has_object_permission", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-185736-185746/notes_backend/api/views.py", "pattern": "/^    def has_object_permission(self, request, view, obj):$/", "language": "Python", "kind": "member", "signature": "(self, request, view, obj)", "scope": "IsOwner", "scopeKind": "class"}, {"_type": "tag", "name": "health", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-185736-185746/notes_backend/api/views.py", "pattern": "/^def health(request):$/", "language": "Python", "kind": "function", "signature": "(request)"}, {"_type": "tag", "name": "perform_create", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-185736-185746/notes_backend/api/views.py", "pattern": "/^    def perform_create(self, serializer):$/", "language": "Python", "kind": "member", "signature": "(self, serializer)", "scope": "NotesViewSet", "scopeKind": "class"}, {"_type": "tag", "name": "permission_classes", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-185736-185746/notes_backend/api/views.py", "pattern": "/^    permission_classes = [IsAuthenticated, IsOwner]$/", "language": "Python", "kind": "variable", "scope": "NotesViewSet", "scopeKind": "class"}, {"_type": "tag", "name": "register", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-185736-185746/notes_backend/api/views.py", "pattern": "/^def register(request):$/", "language": "Python", "kind": "function", "signature": "(request)"}, {"_type": "tag", "name": "serializer_class", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-185736-185746/notes_backend/api/views.py", "pattern": "/^    serializer_class = NoteSerializer$/", "language": "Python", "kind": "variable", "scope": "NotesViewSet", "scopeKind": "class"}, {"_type": "tag", "name": "token_logout", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-185736-185746/notes_backend/api/views.py", "pattern": "/^def token_logout(request):$/", "language": "Python", "kind": "function", "signature": "(request)"}, {"_type": "tag", "name": "unarchive", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-185736-185746/notes_backend/api/views.py", "pattern": "/^    def unarchive(self, request, pk=None):$/", "language": "Python", "kind": "member", "signature": "(self, request, pk=None)", "scope": "NotesViewSet", "scopeKind": "class"}], "hash": "085a4e743d1497bce39ff74b23db3b20", "format-version": 4, "code-base-name": "notes_backend", "filename": "notes_backend/api/views.py", "fields": [{"name": "permission_classes = [IsAuthenticated, IsOwner]", "scope": "NotesViewSet", "scopeKind": "class", "description": "unavailable"}, {"name": "serializer_class = NoteSerializer", "scope": "NotesViewSet", "scopeKind": "class", "description": "unavailable"}]}